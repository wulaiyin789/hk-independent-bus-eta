import{j as r,a4 as u,$ as i,r as n,a9 as S,aa as d,a5 as R,ad as m}from"./index-osrCu-dV.js";import{r as x,i as f,j as N,P as p,I as w,C as I}from"./App-C3hfgzlE.js";var l={},_=f;Object.defineProperty(l,"__esModule",{value:!0});var h=l.default=void 0,W=_(x()),y=r;h=l.default=(0,W.default)((0,y.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");const M=()=>{const{t}=u(),e=N(),a=()=>e?e.WTCSGNL&&D.includes(e.WTCSGNL.code)?!0:!!(e.WRAIN&&T.includes(e.WRAIN.code)):!1;return navigator.userAgent!=="prerendering"&&a()?r.jsxs(p,{variant:"outlined",sx:k,onClick:()=>window.open(t("bad-weather-link"),"_target"),children:[r.jsx(h,{color:"error"}),r.jsx(i,{children:t("bad-weather-text")})]}):null},D=["TC8NE","TC8SE","TC8NW","TC8SW","TC9","TC10"],T=["WARINR","WRAINB"],k={borderRadius:t=>t.shape.borderRadius,cursor:"pointer",px:2,py:1,display:"flex",alignItems:"center",textAlign:"left",gap:1},q=()=>{const{t}=u(),{db:{updateTime:e},renewDb:a}=n.useContext(S),o=n.useMemo(()=>Date.now()>e+28*24*3600*1e3,[e]);return navigator.userAgent!=="prerendering"&&o?r.jsx(d,{sx:A,onClick:a,children:r.jsx(i,{children:t("db-renew-text")})}):null},A={display:"flex",justifyContent:"center",flex:1,width:"100%",p:2,borderStyle:"solid",borderWidth:1,borderRadius:t=>t.shape.borderRadius/2,cursor:"pointer"};var c={},E=f;Object.defineProperty(c,"__esModule",{value:!0});var g=c.default=void 0,$=E(x()),O=r;g=c.default=(0,$.default)((0,O.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const P=()=>{const t=R(),[e,a]=n.useState(null),[o,C]=n.useState(localStorage.getItem("closeNoticeContent")??"");n.useEffect(()=>{fetch("/notice.json").then(s=>s.json()).then(s=>a({...s,endDate:new Date(s.endDate)}))},[]);const v=n.useCallback(()=>{e!==null&&(m()&&!e.enableLinkInIos||window.open(e.link[t],"_target"))},[t,e]),j=n.useCallback(()=>{e&&(localStorage.setItem("closeNoticeContent",JSON.stringify(e.content)),C(JSON.stringify(e.content)))},[e]);return e===null||o===JSON.stringify(e.content)||!e.isShown||e.endDate<new Date?null:r.jsxs(p,{variant:"outlined",sx:z,children:[r.jsx(g,{color:"warning"}),r.jsx(d,{onClick:v,sx:{cursor:"pointer"},children:e.content[t].map((s,b)=>r.jsx(i,{variant:"subtitle2",children:s},`_notice-${b}`))}),r.jsx(w,{size:"small",onClick:j,children:r.jsx(I,{})})]})},z={borderRadius:t=>t.shape.borderRadius,px:2,py:1,alignItems:"center",textAlign:"left",gap:2,display:"flex"};export{M as B,q as D,P as N};
